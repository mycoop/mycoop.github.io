<script type="text/javascript" src="/my-coop/scripts/libraries/jquery.js"></script>
<script type="text/javascript" src="/my-coop/scripts/libraries/jquery-ui-1.10.2.custom.js"></script>
<script type="text/javascript" src="/my-coop/scripts/libraries/primitives.latest.js"></script>

<script type="text/javascript" src="/my-coop/scripts/libraries/bootstrap.min.js"></script>
<link href="/my-coop/styles/vendor/primitives.latest.css" media="screen" rel="stylesheet" type="text/css"/>
<style>
    .link_in_node {
        cursor: pointer;
        color: orange;
    }
    .little_input.input.form-control{
        height: 17px;
        font-size: 12px;
    }
</style>

<script type="text/ng-template" id="askUsersModal.html">
    <div class="modal-header">
        <h3 class="modal-title">Are you sure?</h3>
    </div>
    <div class="modal-body">
        <input type="checkbox" ng-model="isMoveUsers" id="userscheck"/> <label for="userscheck">{{message}}</label>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">Save</button>
        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
    </div>
</script>
<script>
    $(document).ready(function () {
        $('div[name="title"] i').click(function () {
            $div = $(this).parent().parent();
            $('span', $div).hide();
            $('input', $div).show();
            $('i', $div).hide();
            $('input', $div).val($('span', $div).text());
        });
        $('div[name="title"] input').keyup(function (e) {
            if (e.which == 13) {
                $div = $(this).parent();
                $('input', $div).hide();
                $('span', $div).show();
                $('i', $div).show();

                id = $($div).data('node-id');
                text = $('input', $div).val();

                $sc = $('div[items="items"]');
                angular.element($sc).scope().$$childHead.funct(id, text);

            }
        });

    });
</script>


<div id="org-container">
    <!--<h1>Org entities</h1>-->
    <h1>Hierarchy Management</h1>
    <p class="text-muted"><small>Hierarchy management supports the data sharing system that grants access to organizational sub units based on the BCM program requirements. It enables your company to structure your BCM data and users. Particularly if your organization has a private sharing model you may need to grant users access to organizational sub units based on criteria such as Location or a custom criteria that is relevant to your business. Hierarchy management solves these business needs and provides a powerful solution for structuring your users accounts and their associated BCM tasks and activities.</small></p>
    <!--<p>-->
    <!--<button data-ng-click='setCursorItem(0)'>Scott Aasrud</button>-->
    <!--<button data-ng-click='setCursorItem(1)'>Ted Lucas</button>-->
    <!--<button data-ng-click='setCursorItem(2)'>Joao Stuger</button>-->
    <!--</p>-->
    <button class="btn btn-medium  btn-blue" ng-click="showNewEntityModal()">Add New Entity</button>
    <div data-ng-chart="" selected-node-id="selectedNodeId" items="items" id="orgdiagram" on-reparent="reparent(itemId, toParentId)"
         style="width: 100%; height: 380px; border-style: dotted; border-width: 1px;"></div>
    <br/>

<h3>Orphan Orgs</h3>
<br/>
<table cellpadding="0" cellspacing="0" border="0" class="grid full-width">
    <tbody>
    <tr>
        <td align="left" valign="top" colspan="1" class="colFirst colNoVerticalPad">
            <table cellpadding="0" cellspacing="0" border="0" class="mcTable full-width" id="mc_00">
                <tbody>
                <tr>
                    <td class="mcHeading" style="width: 15px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="1" height="1" border="0"></td>
                    <td align="left" class="mcHeading">
                        <nobr><span>Organization name</span></nobr>
                    </td>
                    <td class="mcHeading" style="width: 25px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="1" height="1" border="0"></td>
                    <td align="left" class="mcHeading">
                        <nobr><span>Date created</span></nobr>
                    </td>
                    <td class="mcHeading" style="width: 25px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="1" height="1" border="0"></td>
                    <td align="left" class="mcHeading">
                        <nobr><span>Date modified</span></nobr>
                    </td>
                    <td align="right" class="mcHeading" style="width: 25px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="15" height="10" border="0"></td>
                    <td align="center" class="mcHeading" width="110px">Action</td>
                </tr>
                <tr data-value="{{organization.id}}" valign="top" class="mcRow orphan-item" ng-repeat="organization in orphans">
                    <td align="right" valign="top" class="mcCol" style="width: 25px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="1" height="1" border="0"></td>
                    <td align="left" class="mcCol"><span>{{organization.title}}</span></td>
                    <td align="right" valign="top" class="mcCol" style="width: 15px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="1" height="1" border="0"></td>
                    <td align="left" class="mcCol"><span>{{organization.createdDate | date}}</span></td>
                    <td align="right" valign="top" class="mcCol" style="width: 25px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="1" height="1" border="0"></td>
                    <td align="left" class="mcCol"><span>{{organization.modifiedDate | date}}</span></td>
                    <td align="right" class="mcCol" style="width: 25px;"><img
                            src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"
                            alt="" width="10" height="10" border="0"></td>
                    <td align="center" valign="top" class="mcDeleteCol">
                        <nobr>
                            <button id="mc_00_del0" aria-label="Delete" role="button" ng-click="delete(user)"
                                    class="btn ansLP" tabindex="2">Delete
                            </button>
                            <div ng-show="user.isDeleting">Are you sure?<br/>
                                <button aria-label="Delete" role="button" ng-click="delete(user)"
                                        class="btn ansRoyal" tabindex="2">Yes</button>
                                <a href="" ng-click="user.isDeleting=false">No</a>
                            </div>
                            <!--<img src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"-->
                            <!--alt="" width="5" height="10" border="0">-->
                            <!--<button id="mc_00_del0" aria-label="Delete" role="button"-->
                            <!--class="btn ansLP" tabindex="2">Bulk-->
                            <!--</button>-->

                            <!--<img src="https://qtwu2-qprd-secure.images.turbotaxonline.intuit.com/turbotax/img/clear.gif"-->
                            <!--alt="" width="5" height="10" border="0">-->
                            <!--<button id="mc_00_del0" aria-label="Delete" role="button"-->
                            <!--class="btn ansLP" tabindex="2">Clone-->
                            <!--</button>-->
                        </nobr>
                    </td>
                </tr>
                </tbody>
            </table>
            <p></p></td>
    </tr>
    </tbody>


</table>

</div>